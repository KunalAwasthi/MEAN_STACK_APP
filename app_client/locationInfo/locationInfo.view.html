<navigation></navigation>

<div class="container">
    <h1>{{ vm.location.name }}</h1>
    <div class="row">
        <div class="col-xs-12 col-sm-8">
            <hr>
            <div class="row">
                <div class="col-xs-12 col-sm-6">
                    <p>{{ location.address }}</p> 
                    <div class="card card-primary">
                        <div class="card-header">
                            Opening Hours
                        </div>
                        <div class="card-body">
                            
                            <div class="mt-2" ng-repeat="time in vm.location.openingTimes">
                                <p class="m-0">{{ time.day }}</p> 
                                <p class="m-0 p-0">{{ time.opening}} - {{ time.closing }}</p>
                                <div class="badge badge-info m-0">
                                    {{ time.closed ? 'Closed' : 'Open' }}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card card-primary mt-4">
                        <div class="card-header">
                            <p>Facilities</p>
                        </div>
                        <div class="card-body">
                            <span class="badge badge-warning ml-1" ng-repeat="f in vm.location.facilities">
                                {{ f }}
                            </span>
                        </div>
                    </div>
                </div>        
                <div class="col-xs-12 col-sm-6">
                    <div class="card card-primary">
                        <div class="card-header">
                            <p class="p p-0 m-0">Map Cordinates</p>
                        </div>
                        <div class="card-body">
                            <img ng-src="{{ vm.location.imgUrl }}" width='100%' height='100%' class="img img-responsive rounded"/>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-lg-12">
                    <div class="mb-2 clearfix">
                        <span> Customer Reviews </span>
                        <a ng-click="vm.showPopupAddReview()" href='#' class='btn btn-success float-right'>
                            Add Review&nbsp;
                            <span class="fa fa-plus"></span>
                        </a>
                    </div>
                    <div class="card mb-2" ng-repeat="review in vm.location.reviews">
                        <div class="card-header">
                            <p class="p-0 m-0">
                                <b>
                                    <span>&nbsp;{{ review.author }}</span>
                                </b>
                                <small>
                                    &nbsp;
                                    {{ review.timestamp | fixDate}}
                                </small>
                                <small star-rating="" rating="review.rating">

                                </small>
                            </p>
                        </div>
                        <div class="card-body">
                            <p class="p-2" >{{ review.reviewText }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-12 col-sm-4">
            <p>{{ vm.location.name+' '+vm.sidebar.context }}</p> 
            <p>
                <small>{{ vm.sidebar.callToAction }}</small>
            </p> 
        </div>
    </div>
</div>
<footer-generic></footer-generic>